<div class="reader">
  <!-- TODO: make page navigation via router link: /book/:bookId/pages/:pageId -->
  <div>
    <ng-container *ngFor="let indexes of getPageNavigation(); let first = first">
      <span *ngIf="!first">...</span>
      <span *ngFor="let index of indexes"
            [ngClass]="{'pageIndex': true, 'selected': isPageIndexSelected(index)}"
            (click)="setPageIndexSelected(index)">{{index + 1}}</span>
    </ng-container>
  </div>
  <div class="page">
    <ng-container *ngFor="let line of getPage(getPageIndexSelected())">
      <ng-container *ngFor="let token of line">
        <span *ngIf="!isWord(token)">{{token}}</span>
        <span *ngIf="isWord(token)" class="word" (click)="openWordDialog(token)"
        >{{token}}</span>
      </ng-container>
    </ng-container>
  </div>
</div>
